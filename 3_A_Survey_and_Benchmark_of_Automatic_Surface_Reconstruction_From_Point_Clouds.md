# A Survey and Benchmark of Automatic Surface Reconstruction From Point Clouds文献学习

## 表面重建方法分类
- interpolation based techniques （基于插值的技术）：通过连接输入点云的点，通常通过点之间的线性插值来实现
- approximation-based techniques （基于逼近的技术）：使用光滑函数来全局或者局部地表示点云

将方法组织为两组：（该分类方法反映了主要的数学表面表示（参数化和隐式）
- 基于表面的方法
- 基于体积的方法

---

## 基准测试
-背景：

```text
      基准测试                               基准测试
（只考虑了传统的逼近技术）     （考虑了基于学习的方法和逼近技术，但未研究泛化能力）
        |                                      |
        |______________________________________|
                 都开发了合成距离扫描程序
                 都使用具有非平凡拓扑和各种尺寸细节的形状
                           |
                           |
                           V
               用合成扫描程序产生类似MVS的点云
              从而创建具有真实表面和具有现实特征的点云的训练数据集
              研究了方法的泛化能力
```

- MVS基准测试：从2D信息（如重叠图像）生成点云是表面重建的重要问题。这些基准测试通常将低质量的图像采集作为输入，并使用更高质量的采集来产生精确和密集的点云作为参考

---

## 表面的表示、属性和重建--概要
**A 表示**  
表面被定义为R³内的可定向、连续的2-流形，可能有边界也可能没有边界。  
从数学角度来看表面表示主要分为两类：**参数化、隐式**
- 参数化表面：
    - 这些表面由连续双射函数f: Ω→Sg表示，该函数将参数域Ω∈R²（例如，[-1,1]²）映射到3D表面Sg = f(Ω)∈R³。
    - 参数域Ω通常被分割为较小的子区域，每个子区域都配备自己的函数。
    - 通常，Ω被分割为三角形。逼近Sg的三角形集合可以高效地存储和处理为三角形表面网格M=(V,E,F)，其中V表示三角形的顶点，E表示边，F表示面。
- 隐式表面：
    - 这些表面由标量值函数F: R³→R的c水平集定义： Sg^c = {x∈R³ | F(x)=c}，F的最常见选择是有符号距离函数（SDF）或占用函数（OF）。
    - SDF给出3D点x到表面最近部分的距离。表面内部的点被赋予负值，而外部的点被赋予正值。OF通常在表面内部值为1，外部值为0。
    - 隐式函数的域通常分割为子区域，如体素、八叉树节点或四面体。在实践中，一旦计算完成，隐式表面通常转换为参数化网格。

**B 属性**
- 水密性：几何表面无边界时，被认为是水密的或封闭的。他形成连续、不间断的表面，包围有限体积而无缝隙或开口。非水密性表面如下：<img width="535" height="338" alt="image" src="https://github.com/user-attachments/assets/af47413e-309d-4ca3-ae73-44e6f73ba76b" />
- 流动性：表面的每个足够小的区域，无论其曲率如何，都可以连续变形为2D平面。如果具有以下三个属性，那么这个网格是具有流动性的：
    - 边流形：每条边，共享此边的面集合形成拓扑半圆盘。没有边可以关联超过两个面。反例（违反了边流形属性）如下：<img width="521" height="298" alt="image" src="https://github.com/user-attachments/assets/4c66fcbf-9db0-4981-b92b-d97a0f9c9f69" />
    - 顶点流形：每个顶点，共享此顶点的面集合形成拓扑半圆盘，共享公共顶点的面组织为开放或封闭扇形。每个点至少是两条边的一部分，每条边是两个面的一部分。
    - 无交点：不共享边/顶点的所有面都不相交
- 可定向性：网格M是可定向的，当且仅当可以一致地为其面分配方向（或"边"），使得相邻面总是共享相同定向。这允许我们区分网格的"内部"和"外部"。
    - 当两个面共享公共边时，共享顶点的顺序应该为两个面颠倒。反例就是共享了同一条边，共享顶点的顺序两个面颠倒：<img width="503" height="325" alt="image" src="https://github.com/user-attachments/assets/d0745bbe-432e-4c0d-8743-e53fc8856ac9" />

**C 重建**  
点云表面重建包含了创建逼近原始表面的连续表面  
点云表面重建方法可分为两组：**基于表面的表面重建**和**基于体积的表面重建**
- **基于表面的方法**：专注于以三角形/二维2D补丁的形式，或通过变形参数化包围，从而找到一个或多个参数化表面来逼近输入点云。难点：子表面间的一致过渡还具有挑战性，很难保证最终表面无交点、流形和水密。
- **基于体积的方法**：将R³的子集分割为内部（内侧）和外部（外侧）子空间。
    - 面隐式定义为两个子空间间的接口。
    - 此类中的大多数（但不是全部）算法将问题表述为找到指示空间中点是满的（内侧）还是空的（外侧）的隐式函数。
    - 该方法重建的表面保证是水密和无交点的，但不一定是流形。
- **网格提取**：基于表面的方法通常会产生网格，基于体积的方法通常需要额外的处理步骤
    - 行进立方体 方法：从隐式场提取网格的方法，将隐式函数离散化为体素，每个体素内（至少有一个内部和外部顶点）构造三角形，并提取所有三角形的并集，作为三角化。
    - 神经网格化 方法：专门处理隐式函数编码在神经网络权重中的情况，旨在于行进立方体相比提取更小三角形的网格。
    - Voronoi图提取 方法：使用Voronoi图从隐式函数提取简洁多边形网格
    
    
 
输入点云的特征主要取决于使用的传感器类型
- LiDAR点云：通常提供高精度和准确性，没有大量噪声或离群点，也通常由于传感器的有限视野而受到遮挡
- 基于图像的点云：由MVS（多视角立体视觉技术）产生，可以产生密集点云，特别是在有丰富纹理和特征的区域。糟糕的光照条件或缺乏纹理可能导致不太准确的点云，图像尺度的变化也导致点密度强烈变化。

---

## 表面重建方法--调研
### A 基于表面的重建
基于表面的重建通过连接P的某些点或变星参考网格直接产生表面，通常以网格形式
#### 1.基于表面的插值
在P的所有或选定的3D点之间进行线性插值  
<img width="541" height="438" alt="image" src="https://github.com/user-attachments/assets/48526721-ca79-46ee-aa74-7749fc4ee238" />
>前沿：
> - **球旋转算法**：
    - 采用贪心策略找到三元组（通过所有满足空心球性质的点三元组，可以形成三角形，即在他们的外接球没有其他点，外接球是通过三个非共线点的最小球体）
    - 步骤：
        - 首先选择具有空球性质的种子点三元组，使其外接球半径接近于P密度相关的定义值。该三元组定义网格的第一个三角形，形成外接球
        - 然后，该外接球围绕三角形的每条边旋转，直到触及新点，形成三元组，从而形成了三角形。
        - 一旦该外接球中所有可能的边都已经处理，算法再用新的种子三角形重新开始，直到p的所有点都被考虑。
> - **正规插值方法**：
    - 从 遵循空球性质的 种子点三元组的三角剖分 开始。
    - 然后，对于每个现有边pi,pj，向三角剖分添加新三角形pi,pj,pk。
    - 选择点pk使得新三角形对所有p∈P{pi,pj}具有最小半径外接球。
>- **球旋转算法改进版**
    - 也是用变化大小的球
    - 增加了球旋转算法对非均匀采样的鲁棒性。
    - 缺陷：对噪声大/大遮挡等点云缺陷仍然敏感。

#### 2.基于选择
- **PointTriNet**：（从初始候选三角形集合迭代构建三角剖分）
  - 流程：
    - 计算P的k最近邻图，并创建种子三角形
    - 然后第一个网络选择一些三角形（选择标准：三角形中成为最终表面一部分的概率，该概率通过考虑他们邻近点和已形成的三角形获得）
    - 第二个网络提出新候选三角形（由与选定三角形相邻的点形成）
    - 上面得到的新候选者，再交给第一个网络进行同样的处理
    - 迭代次数由用户定义，算法迭代直至终止。
    - 损失函数是输入点和重建表面之间的倒角距离，该方法可以在没有真实网格的情况下训练
- **IER**（两点之间的内在-外在比率）：
    - 是欧几里德距离与沿真实表面的测地距离的比率
    - 一对点的IER值接近1表明连接它们的边可能是表面的一部分
    - 网格化流程：
      - 从点云的k最近邻图生成的大量种子三角形开始
      - 使用由真实网格监督的多层感知器（MLP）估计三角形顶点的IER。
      - 显示IER接近1的顶点用来构建网格（表明这些点的边成为实际表面一部分的频率很高）
    - 优点：对输入点云的轻微噪声具有鲁棒性
    - 缺点：该方法形成的重建表面通常既没有流形性也没有水密性。
     
#### 3.基于投影：
- **Boissonnat算法**：
   - 首先计算每个点的切平面
   - 将目标点的邻近点投影到这些平面上
   - 计算投影2D点云的2D Delaunay三角剖分，并合并这些局部重建。
- **DSE网格化**：
   - 采用对数映射作为替代方案
   - 对数映射基于从该点的测地线提供围绕点p的局部表面参数化，为复杂几何提供更适应性的方法。
   - 该方法使用MLP为每个点获得近似对数映射，然后邻近映射呗对齐和参数化
   - 优点：导致更少的非流形边
   - 缺点：重建的表面仍然不是水密的
     
#### 4.基于表面的逼近：补丁拟合
- **AtlasNet**：
  - 从三角化2D补丁开始，使用神经网络调整其顶点位置。该网络通过最小化变形表面和点云之间的距离进行训练。消除了训练目的对实际网格数据的需要。
  - 该方法本质上不确保重建表面既具有水密性，又具有流形性。
 
#### 5.网络变形
- **网格拟合方法**
    - 它从基于某些输入点或低分辨率泊松重建的初始网格开始，并调整顶点位置以拟合点云。如下图：<img width="512" height="399" alt="image" src="https://github.com/user-attachments/assets/306cdd11-e885-4ea4-ad64-aba47f7897b8" />
    - 特点：在数据缺失场景中表现出鲁棒性，需要细致的参数调优来管理噪声或离群点
    - 如果初始网格没有准确反映目标表面的真实拓扑，这种差异在过程后期无法纠正
    - 网格变形方法的显著优势：重建的表面具有水密性。
 
### B 基于体积的重建
该方法不直接生成表面网格，考虑可以从中提取网格的离散/连续3D体积
#### 1.基于体积的插值（没太懂，好抽象）
- 通常从构建点云P的凸包的3D三角剖分开始，这个3DT的形成使得P中没有点位于任何这些四面体的外接球内。
- Delaunay三角剖分本身不直接产生表面网格，但从Sg充分密集的P采样确保3DT的子复合体将准确逼近Sg的几何和拓扑。

#### 2.α-形状
从3DT提取这种子复合体的一种直接方法涉及两个关键步骤：
- 丢弃所有外接球大于预定半径α的四面体（α的选择取决于点的密度，与球旋转算法一样）
- 仅保留边界三角形，即被丢弃和保留的四面体之间的三角形，产生点云的α-形状

#### 3.内外标记
- 从3DT导出表面的另一种方法是将每个四面体标记为内部或外部。
- P的3DT中的每个四面体相对于Sr被标记为内部或外部，表面然后定义为具有不同标签的四面体之间的接口。
- 标记四面体的问题通常以可以通过图切高效最小化的形式用全局能量公式化（好复杂，没懂）
- 优点：重建结果有水密性和无交点性。对各种中等采样缺陷具有鲁棒性，可以处理大规模场景
- **鲁棒高效表面重建（RESR）**：其有特殊处理功能，可以防止微小细长四面体被错误标记
- **DeepDT**：使用在3DT上操作的图神经网络（GNN）预测全局能量参数。
- **Delaunay图神经网络（DGNN）**：可升级到大点云（优化了什么算法？）

#### 4.基于体积的逼近：隐式函数
若干基于体积的表面逼近技术将表面定义为标量值距离或占用函数的水平集
- **泊松表面重建**
    - 该方法使用指定函数F和定义重建表面Sr的水平集
    - 主要思想：指示函数F的拉普拉斯算子应该等于散度（该散度是p点的定向法线定义的向量场N 的散度）
    - 重建过程就不统计了，看不懂思密达，有需要再看吧
    - 结果：生成水密网格，广泛的中等幅度采集缺陷具有鲁棒性（先决条件：需要良好定向的法向量）
- **神经场表示**
    - 隐式函数用神经网络表示为神经场
    - 可根据采用网络的性质进一步细分为三个不同子组：基于集合、基于网格、基于邻域。每个子组代表利用神经网络表示隐式函数的独特方法。
- **基于集合的神经隐式函数（NIFs）**：
    - **占用网络（ONet）**
